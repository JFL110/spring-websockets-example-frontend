$main-margin: 0.5em;
$main-top-margin: 1em;
$control-button-height: 4em;
$canvas-top-margin: 1em;
$border-radius: 5px;
$small-screen: 800px;
$small-screen-reduction: 1.9;
$min-inner-width: 3.3 + 4 * $control-button-height / $small-screen-reduction + 7em;

.canvas-container {
	margin-top: $canvas-top-margin;
	position: relative;
	max-height: calc(100vh - #{$main-top-margin * 2 + $control-button-height + $canvas-top-margin});
	max-width: calc(100vw - #{$main-margin * 2});
	min-width: $min-inner-width;
	overflow: hidden;
	border-radius: $border-radius;

	.user-canvas {
		z-index: 10;
		background-color: unset !important;
	}

	.others-canvas {
		z-index: 9;
		position: absolute;
		top: 0;
		left: 0;
	}

	.canvas-disabled-overlay {
		text-align: center;
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background-color: rgba(10, 10, 10, 0.4);
		z-index: 100;

		& > .loader {
			overflow: hidden;
			margin: auto;
			position: absolute;
			top: 0;
			left: 0;
			bottom: 0;
			right: 0;
		}

		& > .loader:after {
			background: rgb(157, 157, 157);
		}
	}
}

.canvas-app {
	margin-top: $main-top-margin;
	margin-bottom: $main-top-margin;
	margin-left: $main-margin;
	margin-right: $main-margin;

	& > div {
		display: table;
		margin: auto;
	}
}

.noselect {
	-webkit-touch-callout: none; /* iOS Safari */
	-webkit-user-select: none; /* Safari */
	-khtml-user-select: none; /* Konqueror HTML */
	-moz-user-select: none; /* Old versions of Firefox */
	-ms-user-select: none; /* Internet Explorer/Edge */
	user-select: none; /* Non-prefixed version, currently
									supported by Chrome, Edge, Opera and Firefox */
}

.controls-bar {
	white-space: nowrap;
	min-width: $min-inner-width;
	& > div {
		vertical-align: top;
	}
}

@mixin button-height {
	cursor: pointer;
	display: inline-block;
	height: $control-button-height;

	@media (max-width: $small-screen) {
		height: $control-button-height / $small-screen-reduction;
	}
}

.color-picker-container {
	@include button-height;
	position: relative;

	.color-swatch {
		cursor: pointer;
		width: 7em;
		border-radius: $border-radius;

		@media (max-width: $small-screen) {
			width: 100px;
		}

		& > span {
			display: block;
			width: 100%;
			height: 100%;
			text-align: center;
			line-height: $control-button-height;

			@media (max-width: $small-screen) {
				line-height: $control-button-height / $small-screen-reduction;
			}
		}
	}

	.color-picker {
		position: absolute;
		z-index: 25;
	}
}

.square-button {
	@include button-height;
	width: $control-button-height;
	background-color: white;
	border-radius: $border-radius;
	text-align: center;
	margin-left: 2em;
	position: relative;

	@media (max-width: $small-screen) {
		margin-left: 1em;
		width: $control-button-height / $small-screen-reduction;
		line-height: $control-button-height / $small-screen-reduction;
	}
}

.clear-button {
	float: right;
	& > svg {
		overflow: hidden;
		margin: auto;
		position: absolute;
		top: 0;
		left: 0;
		bottom: 0;
		right: 0;

		font-size: 2em;
		@media (max-width: $small-screen) {
			font-size: 1em;
		}
	}

	&.clicked-once {
		background-color: #ea2424;
	}
}

.brush-size-button {
	& > div {
		overflow: hidden;
		margin: auto;
		position: absolute;
		top: 0;
		left: 0;
		bottom: 0;
		right: 0;
		background-color: #111;
		border-radius: 50%;
	}

	&.brush-selected {
		box-shadow: 0 0 0 1px black inset;
	}
}
